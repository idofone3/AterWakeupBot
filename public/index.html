<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft AFK Bot Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-robot logo-icon"></i>
                <h1>Minecraft AFK Bot Dashboard</h1>
            </div>
            <div class="server-info" id="server-info">
                <i class="fas fa-server"></i> Connecting...
            </div>
        </header>
        
        <div class="dashboard">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-plug"></i> Connection Status</h2>
                    <div class="status offline" id="connection-status">
                        <i class="fas fa-circle"></i> OFFLINE
                    </div>
                </div>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-gamepad"></i> Game Mode</div>
                        <div class="info-value" id="game-mode">Unknown</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-clock"></i> Uptime</div>
                        <div class="info-value" id="uptime">0s</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-shoe-prints"></i> Last Move</div>
                        <div class="info-value" id="last-movement">Never</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label"><i class="fas fa-walking"></i> Moves</div>
                        <div class="info-value" id="movement-count">0</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-map-marker-alt"></i> Position</h2>
                </div>
                <div class="position-value" id="position">X: 0 Y: 0 Z: 0</div>
                <div class="controls">
                    <button class="btn" id="reconnect-btn">
                        <i class="fas fa-sync-alt"></i> Reconnect
                    </button>
                    <button class="btn btn-primary" id="movement-btn">
                        <i class="fas fa-running"></i> Pause Movement
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        let isMoving = true;
        
        // DOM elements
        const connectionStatus = document.getElementById('connection-status');
        const gameMode = document.getElementById('game-mode');
        const uptime = document.getElementById('uptime');
        const lastMovement = document.getElementById('last-movement');
        const movementCount = document.getElementById('movement-count');
        const position = document.getElementById('position');
        const serverInfo = document.getElementById('server-info');
        const reconnectBtn = document.getElementById('reconnect-btn');
        const movementBtn = document.getElementById('movement-btn');
        
        // Handle bot status updates
        socket.on('bot-status', (status) => {
            // Update connection status
            if (status.connected) {
                connectionStatus.className = 'status online';
                connectionStatus.innerHTML = '<i class="fas fa-circle"></i> ONLINE';
                serverInfo.innerHTML = `<i class="fas fa-server"></i> ${config.host}:${config.port}`;
            } else {
                connectionStatus.className = 'status offline';
                connectionStatus.innerHTML = '<i class="fas fa-circle"></i> OFFLINE';
            }
            
            // Update other fields
            gameMode.textContent = status.gameMode;
            uptime.textContent = status.uptime;
            lastMovement.textContent = status.lastMovement;
            movementCount.textContent = status.movementCount;
            position.textContent = `X: ${Math.round(status.position.x)} Y: ${Math.round(status.position.y)} Z: ${Math.round(status.position.z)}`;
        });
        
        // Button handlers
        reconnectBtn.addEventListener('click', () => {
            socket.emit('command', 'reconnect');
        });
        
        movementBtn.addEventListener('click', () => {
            isMoving = !isMoving;
            movementBtn.innerHTML = isMoving 
                ? '<i class="fas fa-running"></i> Pause Movement' 
                : '<i class="fas fa-pause"></i> Resume Movement';
            socket.emit('command', 'toggle-movement');
        });
    </script>
</body>
</html>
